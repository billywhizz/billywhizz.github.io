<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>sqlite3.js</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
  </head>
  <body>
<script type="text/javascript">
async function main () {
  const worker = new Worker('worker.js')
  worker.onmessage = e => {
    console.log(JSON.stringify(e.data))
  }
  worker.onerror = e => console.log("Worker error: ", e)
  document.getElementById('query').onclick = e => {
    const sql = document.getElementById('sql').value
    worker.postMessage(sql)
  }
}
window.onload = e => main().catch(err => console.error(err.stack))
</script>

  <textarea id="sql" cols="80" rows="30">SELECT DATE('now') AS now</textarea>
  <button id="query">Query</button>
  </body>
</html>